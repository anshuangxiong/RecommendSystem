<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Bootstrap 3, from LayoutIt!</title>

    <meta name="description" content="Source code generated using layoutit.com">
    <meta name="author" content="LayoutIt!">

    <link href="/static/css/bootstrap.min.css" rel="stylesheet">
    <link href="/static/css/style.css" rel="stylesheet">

  </head>
  <body>

    <div class="container-fluid">
	<div class="row">
		<div class="col-md-12">
			<img id='rsImg' alt="Bootstrap Image Preview" > 
			<div id='itemName' value=''>名称:<span></span></div>
			<div id='desc' >简介:<span></span></div>
			<button type="button" class="btn btn-default" value='0'>
				喜欢
			</button> 
			<button type="button" class="btn btn-default" value='1'>
				不喜欢
			</button>
		</div>
	</div>
</div>

    <script src="/static/js/jquery.min.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/scripts.js"></script>
<script>
	$("button").click(function(){
		$.post("/feedback",{
			value:$(this).attr('value'),
			item:$('#itemName').attr('value')
		},
		function(data,status){
                        //if (status == 200) {}
			//alert("数据: \n" + data + "\n状态: " + status);
			getRecommendInfo();
		});
	});
	$(document).ready(function(){
		getRecommendInfo();
	});
	function getRecommendInfo() {
		$.get("recommend",function(data,status){
                        $('#itemName span').text( data['name']);
                        $('#rsImg').attr('src', data['imgSrc']);
                        $('#desc span').text( data['desc']);
                        $('#itemName').attr('value', data['item']);
			//alert("Data: " + data + "nStatus: " + status);
		}, 'json');
	}
</script>
  </body>
</html>
